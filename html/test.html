<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Test</title>
<style>
body{margin:0;}
#container{height:100vh;width:90%;margin:auto;}
#wb{display:block;box-sizing:border-box;height:90%;width:100%;}
button{float:right;}
</style>
<script type="module">
import {createStore, set, del} from 'https://cdn.jsdelivr.net/npm/idb-keyval@6/+esm'
function fin(){
	var input=document.createElement('input');
	input.type='file';
	return new Promise(resolve=>{
		input.click();
		input.addEventListener('change', ()=>resolve(input.files[0]));
	})
}
testbtn.onclick=()=>fin()
  .then(file=>{
	let blob=file.slice(1)
	console.log(blob)
	return set('ftest', blob)
  })
  .catch(console.error)
</script>
</head>
<body>
<div id="container">
<div><button id="testbtn">test</button><div>
</div>
</body>
</html>
